const { ipcRenderer } = require('electron');

document.getElementById('searchForm').addEventListener('submit', (event) => {
    event.preventDefault();

    const searchId = document.getElementById('searchId').value;
    ipcRenderer.send('search-student', searchId);
});

ipcRenderer.on('search-results', (event, results) => {
    const resultsList = document.getElementById('resultsList');
    resultsList.innerHTML = ''; // Clear previous results

    if (results.length === 0) {
        resultsList.innerHTML = '<li>No students found</li>';
        return;
    }

    results.forEach(student => {
        const li = document.createElement('li');
        li.textContent = `ID: ${student.id}, Name: ${student.name}, Last Name: ${student.lastName}, Age: ${student.age}`;
        resultsList.appendChild(li);
    });
});

// Optionally, add a way to navigate back to the main menu
document.getElementById('backToMain').addEventListener('click', () => {
    ipcRenderer.send('navigate', 'Main.html');
});